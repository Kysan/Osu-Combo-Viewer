(this["webpackJsonposu-beatmap-visualizer"]=this["webpackJsonposu-beatmap-visualizer"]||[]).push([[0],{27:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1),i=n.n(o),a=n(14),s=n.n(a),c=(n(27),n(15)),l=n(16),u=n(21),d=n(19),h=n(0),b=n(4),j=(Object(b.PixiComponent)("customCircle",{create:function(e){return new h.g},applyProps:function(e,t,n){var r=n.x,o=n.y,i=n.radius,a=n.color;e.clear(),e.beginFill(a),e.drawCircle(r,o,i),e.endFill()}}),Object(b.withPixiApp)((function(e){var t=e.x,n=e.y,o=e.radius,i=(e.color,e.text),a=new h.p({align:"center",fill:"#000bff",strokeThickness:2,fontSize:3*o/4,fontFamily:"Tahoma",fontWeight:"bolder"});return Object(r.jsxs)(b.Container,{position:[t,n],children:[Object(r.jsx)("customCircle",{x:o,y:o,radius:o,color:16711680}),Object(r.jsx)("customCircle",{x:o,y:o,radius:3*o/4,color:65280}),Object(r.jsx)(b.Text,{x:o,y:o,text:i,style:a,anchor:[.5,.5]})]})}))),p=n(11),f=n(20),m=n(18),x=n.n(m);var y=function(e){var t=x.a.parseContent(e),n=[],r=[],o=0,i=1;return t.hitObjects.forEach((function(e){var t=e.objectName,a=e.newCombo,s=Object(f.a)(e.position,2),c=s[0],l=s[1];a&&(n.push(Object(p.a)(r)),r=[],i=1);var u={x:c,y:l,type:t,value:i,id:o};console.log("loading: ",u),o+=1,i+=1,r.push(u)})),n.push(Object(p.a)(r)),n.filter((function(e){return 0!==e.length}))},v=Array.from(Array(314).keys()).map((function(e){return-e})).reverse().concat(Array.from(Array(314).keys())),O=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={position:{x:0,y:0},fileData:"",currentCombo:0,map:[v.map((function(e,t){return{x:100*Math.cos(e/100)+200,y:100*Math.sin(e/100)+200,value:++t}}))],mouse:{}},e.handleKeyDown=function(t){var n=t.code,r=e.state,o=r.currentCombo,i=r.map;"KeyD"!=n&&"ArrowRight"!=n||o===i.length-1||e.setState({currentCombo:o+1}),"KeyA"!=n&&"ArrowLeft"!=n||0===o||e.setState({currentCombo:o-1})},e.handleMouse=function(e){},e.handleFileLoad=function(t){var n=t.target.files[0],r=new FileReader;r.readAsText(n),r.onload=function(){console.log(y(r.result)),e.setState({map:y(r.result),fileData:r.result.replace(" ","<\br>")})},r.onerror=function(){alert(r.error)}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.state.position,t=(e.x,e.y,window.screen),n=t.width,o=t.height,i=(o=3/4*(n*=.8))/10,a=this.state,s=a.map,c=a.currentCombo;return Object(r.jsxs)("div",{id:"game",children:[Object(r.jsxs)("div",{id:"menu",children:[Object(r.jsx)("h1",{className:"title",children:" Osu Combo Visualizer"}),Object(r.jsxs)("div",{className:"toolbar",children:[Object(r.jsx)("span",{children:"Choisisez une map"}),Object(r.jsx)("input",{type:"file",onChange:this.handleFileLoad,title:"Ouvrir",accept:".osu"}),Object(r.jsxs)("span",{children:["Combo n\xb0",c+1,"/",s.length]}),Object(r.jsx)("span",{children:"Utilisez les fl\xe8ches gauche et droite pour naviguer entre les pages de combos ou alors (Q) et (D)"})]})]}),Object(r.jsx)(b.Stage,{width:n,height:o,onPointerMove:this.handleMouse,children:s[c].reverse().map((function(e,t){var a=e.x,s=e.y,c=e.type,l=e.value;a=a*n/512-100,s=s*o/384-100;var u=l;return"slider"===c?u+="(s)":"spiner"===c&&(u="spiner"),Object(r.jsx)(j,{x:a,y:s,radius:i,text:u},t)}))}),Object(r.jsxs)("div",{id:"debug",children:[Object(r.jsx)("h2",{children:"debug:"}),this.state.fileData]})]})}}]),n}(o.Component);s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.70886bb7.chunk.js.map